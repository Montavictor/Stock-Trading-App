<h1 class="text-2xl font-bold mb-4">All Transactions</h1>

<table class="table-auto border-collapse border border-gray-300 w-full">
  <thead>
    <tr class="bg-gray-100">
      <th class="border px-4 py-2">ID</th>
      <th class="border px-4 py-2">Username</th>
      <th class="border px-4 py-2">Type</th>
      <th class="border px-4 py-2">Company Name</th>
      <th class="border px-4 py-2">Quantity</th>
      <th class="border px-4 py-2">Stock Price</th>
      <th class="border px-4 py-2">Total Price</th>
      <th class="border px-4 py-2">Actions</th>
    </tr>
  </thead>
  <tbody>
    <% if @transactions.any? %>
      <% @transactions.each do |trans| %>
        <tr>
          <td class="border px-4 py-2"><%= trans.id %></td>
          <td class="border px-4 py-2"><%= trans.user.username %></td>
          <td class="border px-4 py-2"><%= trans.transaction_type.capitalize %></td>
          <td class="border px-4 py-2"><%= trans.company_name %></td>
          <td class="border px-4 py-2"><%= trans.quantity %></td>
          <td class="border px-4 py-2"><%= number_to_currency(trans.stock_price) %></td>
          <td class="border px-4 py-2"><%= number_to_currency(trans.total_price) %></td>
          <td class="border px-4 py-2 space-x-2">
            <%= link_to 'User', admin_user_path(trans.user), class: "bg-blue-500 hover:bg-blue-600 text-white px-3 py-1 rounded" %>
            <%= link_to 'Delete', admin_transaction_path(trans), data: {
                  turbo_method: :delete,
                  turbo_confirm: "Are you sure you want to delete this transaction?"
                }, class: "bg-red-500 hover:bg-red-600 text-white px-3 py-1 rounded" %>
          </td>
        </tr>
      <% end %>
    <% else %>
      <tr>
        <td colspan="8" class="text-center py-4 text-gray-600">No transactions yet</td>
      </tr>
    <% end %>
  </tbody>
</table>
