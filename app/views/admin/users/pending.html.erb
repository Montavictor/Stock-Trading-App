<h1 class="text-2xl font-bold mb-6">Pending Users</h1>

<table class="min-w-full border border-gray-200 shadow-sm rounded-md">
  <thead class="bg-gray-100">
    <tr>
      <th class="px-4 py-2 text-left font-medium text-gray-700">ID</th>
      <th class="px-4 py-2 text-left font-medium text-gray-700">Username</th>
      <th class="px-4 py-2 text-left font-medium text-gray-700">Email</th>
      <th class="px-4 py-2 text-left font-medium text-gray-700">Balance</th>
      <th class="px-4 py-2 text-left font-medium text-gray-700">Status</th>
      <th class="px-4 py-2 text-left font-medium text-gray-700">Actions</th>
    </tr>
  </thead>
  <tbody class="divide-y divide-gray-200">
    <% if @users.any? %>
      <% @users.each do |user| %>
        <tr class="hover:bg-gray-50">
          <td class="px-4 py-2"><%= user.id %></td>
          <td class="px-4 py-2"><%= user.username %></td>
          <td class="px-4 py-2"><%= user.email %></td>
          <td class="px-4 py-2"><%= number_to_currency(user.balance) %></td>
          <td class="px-4 py-2">
            <span class="inline-block px-2 py-1 text-sm rounded-full <%= user.status ? 'bg-green-100 text-green-800' : 'bg-yellow-100 text-yellow-800' %>">
              <%= user.status ? "Approved" : "Pending" %>
            </span>
          </td>
          <td class="px-4 py-2 space-x-2">
            <%= button_to "Approve", approve_admin_user_path(user),
              method: :patch,
              class: "inline-block bg-green-500 hover:bg-green-600 text-white text-sm font-medium px-3 py-1 rounded-md",
              data: { turbo_confirm: "Approve this user?" } %>

            <%= link_to "Decline", admin_user_path(user),
              data: { turbo_method: :delete, turbo_confirm: "Are you sure?" },
              class: "inline-block bg-red-500 hover:bg-red-600 text-white text-sm font-medium px-3 py-1 rounded-md" %>
          </td>
        </tr>
      <% end %>
    <% else %>
      <tr>
        <td colspan="6" class="px-4 py-4 text-center text-gray-500">
          <h3 class="text-lg font-medium">No pending users</h3>
        </td>
      </tr>
    <% end %>
  </tbody>
</table>
